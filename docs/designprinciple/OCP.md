# 开闭原则

## 定义（what）

- 开闭原则（Open Close Principle）缩写 OCP 。
- 软件中的对象（类、模块、函数等）应该对扩展开放，对修改关闭。

## 缘由（why）

为什么要对扩展开放，对修改关闭？

在软件的生命周期中，由于各种原因需要对软件进行修改时，可能会将错误异常引入到原本已经过测试的旧代码中去，造成软件原有系统、功能被破坏。

## 实践（how）

在实际中不可能完全做到对扩展开放，对修改关闭。往往修改原代码和扩展代码是同时存在的。在软件变化时，尽量通过扩展来实现变化，而不是修改已有代码来实现。开闭原则体现在于可扩展性，举个例子，一个图片加载框架的内部图片缓存功能可能有多级缓存（内存缓存、硬盘缓存等），如果将具体的缓存功能直接进行引用，则用户不能自定义缓存实现，这就表现为代码可扩展性不佳。较为妥当的做法应该是定义一个图片缓存功能接口，实际引用接口，对外开放修改具体的图片缓存功能实现（只需继承图片缓存功能接口实现即可）。
